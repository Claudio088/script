-- LocalScript
local Players = game:GetService("Players")
local player = Players.LocalPlayer

local Replicated = game:GetService("ReplicatedStorage")
local teleportEvent = Replicated:WaitForChild("TeleportEvent")

local posMarcada = nil

-- UI --------------------------
local ScreenGui = Instance.new("ScreenGui", player.PlayerGui)

local Botao = Instance.new("TextButton")
Botao.Text = "+"
Botao.Size = UDim2.new(0, 50, 0, 50)
Botao.Position = UDim2.new(0.9, 0, 0.8, 0)
Botao.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Botao.TextSize = 30
Botao.Parent = ScreenGui
Botao.ZIndex = 10

local Painel = Instance.new("Frame")
Painel.Size = UDim2.new(0, 300, 0, 200)
Painel.Position = UDim2.new(0.65, 0, 0.6, 0)
Painel.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Painel.Visible = false
Painel.Parent = ScreenGui

local MarcaBtn = Instance.new("TextButton")
MarcaBtn.Text = "Marcar posição"
MarcaBtn.Size = UDim2.new(1, -20, 0, 60)
MarcaBtn.Position = UDim2.new(0, 10, 0, 20)
MarcaBtn.Parent = Painel

local TeleportBtn = Instance.new("TextButton")
TeleportBtn.Text = "Teleportar"
TeleportBtn.Size = UDim2.new(1, -20, 0, 60)
TeleportBtn.Position = UDim2.new(0, 10, 0, 100)
TeleportBtn.Parent = Painel

-----------------------------------------

Botao.MouseButton1Click:Connect(function()
	Painel.Visible = not Painel.Visible
end)

MarcaBtn.MouseButton1Click:Connect(function()
	local char = player.Character
	if char and char.PrimaryPart then
		posMarcada = char.PrimaryPart.CFrame
	end
end)

TeleportBtn.MouseButton1Click:Connect(function()
	if posMarcada then
		teleportEvent:FireServer(posMarcada)
	end
end)
