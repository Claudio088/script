--// GUI
local player = game.Players.LocalPlayer
local mouse = player:GetMouse()

-- Criar botão flutuante
local button = Instance.new("TextButton")
button.Parent = player:WaitForChild("PlayerGui"):WaitForChild(script.Parent)
button.Size = UDim2.new(0, 120, 0, 40)
button.Position = UDim2.new(0.05, 0, 0.4, 0)
button.BackgroundColor3 = Color3.fromRGB(0, 100, 255)
button.Text = "Menu"
button.TextColor3 = Color3.new(1,1,1)
button.Active = true
button.Draggable = true  -- botão flutuante

-- Criar painel
local frame = Instance.new("Frame")
frame.Parent = button.Parent
frame.Size = UDim2.new(0, 200, 0, 140)
frame.Position = UDim2.new(0.2, 0, 0.3, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.Visible = false

-- Botão: Marcar posição
local marcar = Instance.new("TextButton")
marcar.Parent = frame
marcar.Size = UDim2.new(1, -20, 0, 50)
marcar.Position = UDim2.new(0, 10, 0, 10)
marcar.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
marcar.TextColor3 = Color3.new(1,1,1)
marcar.Text = "Marcar posição"

-- Botão: Teleportar
local teleportar = Instance.new("TextButton")
teleportar.Parent = frame
teleportar.Size = UDim2.new(1, -20, 0, 50)
teleportar.Position = UDim2.new(0, 10, 0, 70)
teleportar.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
teleportar.TextColor3 = Color3.new(1,1,1)
teleportar.Text = "Teleportar"

-- Variável da posição salva
local posicaoSalva = nil

-- Abrir painel
button.MouseButton1Click:Connect(function()
	frame.Visible = not frame.Visible
end)

-- Marcar posição
marcar.MouseButton1Click:Connect(function()
	local char = player.Character
	if char and char:FindFirstChild("HumanoidRootPart") then
		posicaoSalva = char.HumanoidRootPart.CFrame
		marcar.Text = "Posição marcada!"
		task.wait(1)
		marcar.Text = "Marcar posição"
	end
end)

-- Teleportar sem voltar ao lugar antigo
teleportar.MouseButton1Click:Connect(function()
	if posicaoSalva then
		local char = player.Character
		if char and char:FindFirstChild("HumanoidRootPart") then
			char.HumanoidRootPart.CFrame = posicaoSalva
		end
	end
end)
